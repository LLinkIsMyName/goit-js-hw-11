{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\n\n\nconst showLoader = () => {\n    const loader = document.createElement('span');\n    loader.classList.add('loader');\n    document.body.append(loader);\n};\nconst hideLoader = () => {\n    const loader = document.querySelector('.loader');\n    if (loader) {\n        loader.remove();\n    }\n};\n\n\nconst form = document.querySelector(\".form\").addEventListener('submit', function (e) {\n    e.preventDefault();\n    const searchInput = document.querySelector(\"input\").value.trim();\n\n    if (!searchInput) {\n        iziToast.error({\n            title: 'Error',\n            message: 'Please enter a valid search term',\n        });\n        return;\n    }\n    showLoader();\n\n    const apiKey = '42337135-3774c2f446ec3f71c1b4c916a';\n    const url = `https://pixabay.com/api/?key=${apiKey}&q=${searchInput}&image_type=photo&orientation=horizontal&safesearch=true`;\n    fetch(url)\n        .then(response => response.json())\n        .then(data => handleApiResponse(data))\n        .catch(error => {\n            console.error('Error fetching data:', error);\n            hideLoader();\n            iziToast.error({\n                title: 'Error',\n                message: 'An error occurred while fetching data. Please try again later.',\n            });\n        });\n});\n\nfunction handleApiResponse(response) {\n    hideLoader();\n\n    const galleryContainer = document.querySelector(\".gallery\");\n    galleryContainer.innerHTML = '';\n\n    if (response.hits.length === 0) {\n        iziToast.info({\n            title: 'Info',\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n            position: 'center',\n            transitionIn: \"fadeInLeft\",\n        });\n        return;\n    }\n\n    const lightbox = new SimpleLightbox('.gallery a', {\n        captions: true,\n        captionType: 'attr',\n        captionsData: 'alt',\n        captionPosition: 'bottom',\n        fadeSpeed: 150,\n        captionSelector: 'img',\n        captionDelay: 250,\n    });\n\n    const markup = response.hits.map(data => `\n        <li class=\"gallery-item\">\n            <a href=\"${data.largeImageURL}\">\n                <img class=\"gallery-image\" src=\"${data.webformatURL}\" alt=\"${data.tags}\">\n            </a>\n            <p><b>Likes: </b>${data.likes}</p>\n            <p><b>Views: </b>${data.views}</p>\n            <p><b>Comments: </b>${data.comments}</p>\n            <p><b>Downloads: </b>${data.downloads}</p>\n        </li>`).join('');\n\n    galleryContainer.insertAdjacentHTML('beforeend', markup);\n\n    lightbox.on('show.simplelightbox').refresh();\n}\n"],"names":["showLoader","loader","hideLoader","e","searchInput","iziToast","url","response","data","handleApiResponse","error","galleryContainer","lightbox","SimpleLightbox","markup"],"mappings":"6vBAIA,MAAMA,EAAa,IAAM,CACrB,MAAMC,EAAS,SAAS,cAAc,MAAM,EAC5CA,EAAO,UAAU,IAAI,QAAQ,EAC7B,SAAS,KAAK,OAAOA,CAAM,CAC/B,EACMC,EAAa,IAAM,CACrB,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACAA,EAAO,OAAM,CAErB,EAGa,SAAS,cAAc,OAAO,EAAE,iBAAiB,SAAU,SAAUE,EAAG,CACjFA,EAAE,eAAc,EAChB,MAAMC,EAAc,SAAS,cAAc,OAAO,EAAE,MAAM,OAE1D,GAAI,CAACA,EAAa,CACdC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,kCACrB,CAAS,EACD,MACH,CACDL,IAGA,MAAMM,EAAM,qEAA4CF,CAAW,2DACnE,MAAME,CAAG,EACJ,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQC,EAAkBD,CAAI,CAAC,EACpC,MAAME,GAAS,CACZ,QAAQ,MAAM,uBAAwBA,CAAK,EAC3CR,IACAG,EAAS,MAAM,CACX,MAAO,QACP,QAAS,gEACzB,CAAa,CACb,CAAS,CACT,CAAC,EAED,SAASI,EAAkBF,EAAU,CACjCL,IAEA,MAAMS,EAAmB,SAAS,cAAc,UAAU,EAG1D,GAFAA,EAAiB,UAAY,GAEzBJ,EAAS,KAAK,SAAW,EAAG,CAC5BF,EAAS,KAAK,CACV,MAAO,OACP,QAAS,2EACT,SAAU,SACV,aAAc,YAC1B,CAAS,EACD,MACH,CAED,MAAMO,EAAW,IAAIC,EAAe,aAAc,CAC9C,SAAU,GACV,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,UAAW,IACX,gBAAiB,MACjB,aAAc,GACtB,CAAK,EAEKC,EAASP,EAAS,KAAK,IAAIC,GAAQ;AAAA;AAAA,uBAEtBA,EAAK,aAAa;AAAA,kDACSA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA,+BAEvDA,EAAK,KAAK;AAAA,+BACVA,EAAK,KAAK;AAAA,kCACPA,EAAK,QAAQ;AAAA,mCACZA,EAAK,SAAS;AAAA,cACnC,EAAE,KAAK,EAAE,EAEnBG,EAAiB,mBAAmB,YAAaG,CAAM,EAEvDF,EAAS,GAAG,qBAAqB,EAAE,QAAO,CAC9C"}